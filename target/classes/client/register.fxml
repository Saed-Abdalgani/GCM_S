<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.text.Font?>

<VBox alignment="CENTER" spacing="15.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="client.RegistrationController"
      style="-fx-background-color: linear-gradient(to bottom, #667eea, #764ba2);">
    <padding>
        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
    </padding>

    <children>
        <!-- Registration Card Container -->
        <VBox alignment="CENTER" spacing="15.0" 
              style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 20, 0.3, 0, 5);"
              prefWidth="400.0">
            <padding>
                <Insets bottom="30.0" left="35.0" right="35.0" top="30.0" />
            </padding>
            
            <children>
                <!-- Title -->
                <Label text="Create Account" style="-fx-text-fill: #2c3e50;">
                    <font>
                        <Font name="System Bold" size="26.0" />
                    </font>
                </Label>
                
                <Label text="Register as a new customer" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px;" />

                <!-- Username Section -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Username *" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <TextField fx:id="usernameField" 
                               promptText="3-20 characters"
                               prefWidth="330.0" prefHeight="35.0"
                               style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="usernameErrorLabel" style="-fx-text-fill: #e74c3c; -fx-font-size: 10px;" text="" />
                </VBox>

                <!-- Email Section -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Email *" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <TextField fx:id="emailField" 
                               promptText="your@email.com"
                               prefWidth="330.0" prefHeight="35.0"
                               style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="emailErrorLabel" style="-fx-text-fill: #e74c3c; -fx-font-size: 10px;" text="" />
                </VBox>

                <!-- Password Section -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Password *" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <PasswordField fx:id="passwordField" 
                                   promptText="At least 4 characters"
                                   prefWidth="330.0" prefHeight="35.0"
                                   style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="passwordErrorLabel" style="-fx-text-fill: #e74c3c; -fx-font-size: 10px;" text="" />
                </VBox>

                <!-- Confirm Password Section -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Confirm Password *" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <PasswordField fx:id="confirmPasswordField" 
                                   promptText="Re-enter password"
                                   prefWidth="330.0" prefHeight="35.0"
                                   style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="confirmPasswordErrorLabel" style="-fx-text-fill: #e74c3c; -fx-font-size: 10px;" text="" />
                </VBox>

                <!-- Phone Section (Optional) -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Phone (optional)" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <TextField fx:id="phoneField" 
                               promptText="Your phone number"
                               prefWidth="330.0" prefHeight="35.0"
                               style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                </VBox>

                <!-- Credit Card Section (Mock) -->
                <VBox spacing="5.0" alignment="CENTER_LEFT">
                    <Label text="Credit Card (last 4 digits)" style="-fx-text-fill: #34495e; -fx-font-size: 12px; -fx-font-weight: bold;" />
                    <TextField fx:id="cardLast4Field" 
                               promptText="e.g. 4242"
                               prefWidth="100.0" prefHeight="35.0"
                               style="-fx-font-size: 13px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label text="(Mock payment for demo purposes)" style="-fx-text-fill: #95a5a6; -fx-font-size: 10px; -fx-font-style: italic;" />
                </VBox>

                <!-- Register Button -->
                <Button fx:id="registerButton" 
                        mnemonicParsing="false" 
                        onAction="#handleRegister"
                        text="Create Account"
                        prefWidth="330.0" prefHeight="42.0"
                        style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;" />

                <!-- Status Message -->
                <Label fx:id="statusLabel" 
                       style="-fx-font-size: 12px;" 
                       text="" 
                       wrapText="true"
                       textAlignment="CENTER" />

                <!-- Already have account link -->
                <HBox alignment="CENTER" spacing="5.0">
                    <Label text="Already have an account?" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px;" />
                    <Hyperlink fx:id="loginLink" 
                               text="Login here" 
                               onAction="#handleLoginLink"
                               style="-fx-text-fill: #667eea; -fx-font-size: 12px;" />
                </HBox>
            </children>
        </VBox>
    </children>
</VBox>
