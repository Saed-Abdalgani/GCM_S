<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.text.Font?>

<VBox alignment="CENTER" spacing="20.0" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="client.LoginController"
      style="-fx-background-color: linear-gradient(to bottom, #667eea, #764ba2);">
    <padding>
        <Insets bottom="50.0" left="50.0" right="50.0" top="50.0" />
    </padding>

    <children>
        <!-- Login Card Container -->
        <VBox alignment="CENTER" spacing="25.0" 
              style="-fx-background-color: white; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 20, 0.3, 0, 5);"
              prefWidth="350.0">
            <padding>
                <Insets bottom="40.0" left="40.0" right="40.0" top="40.0" />
            </padding>
            
            <children>
                <!-- Title -->
                <Label text="Welcome Back" style="-fx-text-fill: #2c3e50;">
                    <font>
                        <Font name="System Bold" size="28.0" />
                    </font>
                </Label>
                
                <Label text="Please login to your account" style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px;" />

                <!-- Username Section -->
                <VBox spacing="8.0" alignment="CENTER_LEFT">
                    <Label text="Username" style="-fx-text-fill: #34495e; -fx-font-size: 13px; -fx-font-weight: bold;" />
                    <TextField fx:id="usernameField" 
                               promptText="Enter username (3-20 characters)"
                               prefWidth="270.0" prefHeight="40.0"
                               style="-fx-font-size: 14px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="usernameErrorLabel" 
                           style="-fx-text-fill: #e74c3c; -fx-font-size: 11px;" 
                           text="" />
                </VBox>

                <!-- Password Section -->
                <VBox spacing="8.0" alignment="CENTER_LEFT">
                    <Label text="Password" style="-fx-text-fill: #34495e; -fx-font-size: 13px; -fx-font-weight: bold;" />
                    <PasswordField fx:id="passwordField" 
                                   promptText="Enter password (4-30 characters)"
                                   prefWidth="270.0" prefHeight="40.0"
                                   style="-fx-font-size: 14px; -fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #dcdde1; -fx-border-width: 1.5; -fx-padding: 8 12 8 12;" />
                    <Label fx:id="passwordErrorLabel" 
                           style="-fx-text-fill: #e74c3c; -fx-font-size: 11px;" 
                           text="" />
                </VBox>

                <!-- Login Button -->
                <Button fx:id="loginButton" 
                        mnemonicParsing="false" 
                        onAction="#handleLogin"
                        text="Login"
                        prefWidth="270.0" prefHeight="45.0"
                        style="-fx-background-color: linear-gradient(to right, #667eea, #764ba2); -fx-text-fill: white; -fx-font-size: 15px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;" />

                <!-- Divider with "or" text -->
                <Label text="â”€â”€â”€â”€â”€â”€â”€ or â”€â”€â”€â”€â”€â”€â”€" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;" />

                <!-- Continue as Guest Button -->
                <Button fx:id="guestButton" 
                        mnemonicParsing="false" 
                        onAction="#handleGuestLogin"
                        text="Continue as Guest"
                        prefWidth="270.0" prefHeight="40.0"
                        style="-fx-background-color: transparent; -fx-text-fill: #7f8c8d; -fx-font-size: 13px; -fx-border-color: #bdc3c7; -fx-border-width: 1.5; -fx-border-radius: 8; -fx-background-radius: 8; -fx-cursor: hand;" />


                <!-- Status Message -->
                <Label fx:id="statusLabel" 
                       style="-fx-font-size: 12px;" 
                       text="" 
                       wrapText="true"
                       textAlignment="CENTER" />
                
                <!-- Browse Catalog Button (No Login Required) -->
                <Label text="â”€â”€â”€â”€â”€â”€â”€ browse â”€â”€â”€â”€â”€â”€â”€" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;" />
                
                <Button fx:id="catalogButton" 
                        mnemonicParsing="false" 
                        onAction="#handleBrowseCatalog"
                        text="ðŸ” Browse City Catalog"
                        prefWidth="270.0" prefHeight="40.0"
                        style="-fx-background-color: #16213e; -fx-text-fill: #667eea; -fx-font-size: 13px; -fx-border-color: #667eea; -fx-border-width: 1.5; -fx-border-radius: 8; -fx-background-radius: 8; -fx-cursor: hand;" />
                
                <!-- Register Link -->
                <HBox alignment="CENTER" spacing="5.0">
                    <Label text="New user?" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px;" />
                    <Hyperlink fx:id="registerLink" 
                               text="Register here" 
                               onAction="#handleRegisterLink"
                               style="-fx-text-fill: #667eea; -fx-font-size: 12px; -fx-font-weight: bold;" />
                </HBox>
            </children>
        </VBox>
    </children>
</VBox>
